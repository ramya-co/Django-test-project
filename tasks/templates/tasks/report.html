{% extends "tasks/base.html" %}

{% block title %}Productivity Report{% endblock %}

{% block extra_css %}
<style>
    .back-link {
        display: inline-block;
        margin-bottom: 20px;
        color: #667eea;
        text-decoration: none;
        font-size: 15px;
        font-weight: 500;
    }
    .back-link:hover {
        text-decoration: underline;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 16px;
        margin-top: 20px;
    }

    .stat-card {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 24px 16px;
        text-align: center;
        transition: transform 0.2s;
    }
    .stat-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 16px rgba(0,0,0,0.08);
    }

    .stat-number {
        font-size: 2.2em;
        font-weight: 700;
        color: #333;
    }
    .stat-label {
        font-size: 0.85em;
        color: #888;
        margin-top: 6px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .stat-card.completed { border-left: 4px solid #28a745; }
    .stat-card.pending   { border-left: 4px solid #ffc107; }
    .stat-card.rate      { border-left: 4px solid #667eea; }
    .stat-card.time      { border-left: 4px solid #17a2b8; }
    .stat-card.total     { border-left: 4px solid #6c757d; }
</style>
{% endblock %}

{% block content %}
<h1>üìä Productivity Report</h1>

<a href="{% url 'index' %}" class="back-link">‚Üê Back to tasks</a>

{% if stats %}
<div class="stats-grid">
    <div class="stat-card total">
        <div class="stat-number">{{ stats.total }}</div>
        <div class="stat-label">Total Tasks</div>
    </div>
    <div class="stat-card completed">
        <div class="stat-number">{{ stats.completed_count }}</div>
        <div class="stat-label">Completed</div>
    </div>
    <div class="stat-card pending">
        <div class="stat-number">{{ stats.pending_count }}</div>
        <div class="stat-label">Pending</div>
    </div>
    <div class="stat-card rate">
        <div class="stat-number">{{ stats.completion_rate }}%</div>
        <div class="stat-label">Completion Rate</div>
    </div>
    <div class="stat-card time">
        <div class="stat-number">{{ stats.avg_completion_hours }}h</div>
        <div class="stat-label">Avg Completion Time</div>
    </div>
</div>
{% else %}
<div class="empty-state">
    <p>No tasks yet ‚Äî add some tasks to see your productivity report!</p>
</div>
{% endif %}
{% endblock %}
